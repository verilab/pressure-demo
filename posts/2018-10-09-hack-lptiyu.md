---
title: 使用位置模拟器进行步道乐跑的跑步打卡
categories: Misc
created: 2018-10-09 12:39:00
updated: 2018-10-24 18:53:00
---

这学期学校突然非常贴 zhi 心 zhang 地引入了「步道乐跑」这一软件来完成大学生阳光体育的政策要求（以前是去体育场刷卡），简单了解了一下发现这个软件非常臭名昭著——随机打卡点、只使用 GPS 定位导致路线记录不准、对较新版本 Android 系统兼容性不好等。

对于这种<del>强迫我们在危险的大马路上跑步、还经常需要停下来低头看手机的</del>黑恶势力软件，乖乖听话是不可能的，于是花了点时间研究了一下另类方法。

## 准备

首先你需要准备一部已经 root 的 Android 手机，具体怎么 root 这里就不说了。

注意，如果你没有接触过 root，那么需要小心谨慎地详细了解一下，因为 root 操作比较危险，会让手机变得不安全，尽量在备用机上操作。

我一开始尝试了在夜神模拟器里面运行，结果步道乐跑会检测蓝牙状态，夜神模拟器不支持蓝牙，于是放弃了，不过 Genymotion 这种是有可能可以的，因为它也模拟了蓝牙等传感器。

> 目前发现前几天还可以用的情况下，某天乐跑突然又说检测到模拟器了，推测是通过热更新增加了对 root 的检测，换用 [Magisk](https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445) 进行 root 之后，通过 Magisk Hide 功能对乐跑隐藏了 root，似乎解决了，不过并不十分确定是因为检测 root。

## 安装 Xposed

从 [这里](https://forum.xda-developers.com/showthread.php?t=3034811) 帖子底下的附件 `
XposedInstaller_3.1.5.apk`（实际版本号可能不同）链接下载 Xposed Installer，然后安装。

打开之后会看到如下红色感叹号：

![](https://i.loli.net/2018/10/09/5bbc39b355982.png)

红色下面是下图：

![](https://i.loli.net/2018/10/09/5bbc3a44332bd.png)

点「Version 89」（具体版本可能不同），然后弹窗中选「Install」即可安装，安装之后需要重启手机。

完成之后红色感叹号会变成绿色的对号：

![](https://i.loli.net/2018/10/09/5bbc3ae2e6886.png)

此时即为安装成功。

## 安装大牛助手（位置模拟器）

大牛助手是一款利用 root 权限模拟定位的软件，目前最新版是收费的，但旧的 1.1.7 版本是免费的，虽然它强制更新，但可以用 Xposed 模块来强行关闭弹窗。

1.1.7 版本可以从 [这里](https://www.52pojie.cn/thread-651531-1-1.html) 下载。

安装之后别急着打开，开了也千万不要更新，直接退出。

然后下载安装 [对话框取消](https://www.coolapk.com/apk/com.mhook.dialog) Xposed 模块，安装之后需要在 Xposed Installer 的「模块」中勾选，然后重启手机。

重启之后打开对话框取消模块，勾选「开启模块」和「开启增强模式」，然后在下面的应用列表找到大牛助手，进行如下配置：

![](https://i.loli.net/2018/10/09/5bbc3fb35e0ea.png)

然后点保存并重启，之后打开大牛助手应该就不会出现强制升级的弹窗了。

## 运动模拟器

<del>步道乐跑最让人诟病的就是它只通过 GPS 来确定跑步路线和距离，而没有通过陀螺仪等运动传感器来辅助判断，也正因为这一点，不需要开运动模拟器也可以模拟跑步，不过，为了保险起见，</del>**目前步道乐跑后台应该是会检查客户端上传的数据中的运动步数，过低会判断为代步工具嫌疑**，这个可以通过安装 Xposed 模块 [运动模拟器](https://www.coolapk.com/apk/com.specher.sm) 来模拟运动步数，具体方法这里就不详述了，和「对话框取消」的安装方法基本上一样。

## 安装步道乐跑

就在应用商店正常安装即可，不过我安装的是一个旧版本，并不确定新版本中下面的方法是否还有效。

旧版本下载地址：链接: https://pan.baidu.com/s/1GMiGWocpXEJqX8yfypRIIA 提取码: abib

如果你安装的是旧版本，那么需要像上一步那样对步道乐跑也启用对话框取消，否则它也会弹窗强制更新。

## 防止步道乐跑检测到位置模拟器

步道乐跑会「检测」手机中是否有运动模拟器，经过一番研究，发现实际上它是通过获取手机的应用列表来判断的，当发现 Xposed Installer、大牛等应用，就会提示你要诚信跑步。

好在大牛助手有 app 防检测功能，进入大牛的 app 防检测，添加大牛和 Xposed Installer 两个应用，选择防止步道乐跑检测，即可。

## 模拟跑步

具体模拟跑步时，首先进入步道乐跑，然后点进跑步界面，当出现地图之后，就会出现第一个打卡点。

然后打开大牛，使用「路线模拟」功能添加两个点，第一个点是你的当前位置（或任意学校内的位置），第二个点是步道乐跑的打卡点，然后在「配置」页面调整速度，根据步道乐跑要求的平均配速（3～9 分钟 1 km），设置速度为 10 km/h 左右，然后保存并开启路线模拟。

这时候大牛就已经开始模拟位置的变化了，切换到步道乐跑，点开始跑步，然后等它打卡成功，之后出现下一个点，回到大牛，停止路线模拟，删掉第一个点，再添加新的打卡点，然后再次开启模拟，再切回步道乐跑。

第三个打卡点以此类推，三个点全部打完就可以结束跑步了。为了避免在大牛那边的操作耗时导致配速不符合要求，可以适当提高大牛的模拟路线的速度，或者在切换到大牛之前先暂停跑步。

## 最后

其实步道乐跑这软件，或者说大学生阳光体育运动，它们本身的动机是好的，现在大学生天天宅在宿舍里确实需要运动，但这样强制通过跑步的方式来运动，为了避免作弊还一定要在校园内随机打卡地点，还花了很多精力去检查系统环境、检查模拟器，就显得有些病态了，搞得本来就喜欢运动的人也需要百般折腾。

虽然这里给出了破解方法，但还是建议抽出一些时间去真实地做一些运动，毕竟身体健康还是很重要的。
